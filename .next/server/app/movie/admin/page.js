(()=>{var e={};e.id=77,e.ids=[77],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},8778:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>r.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o});var s=a(260),n=a(8203),l=a(5155),r=a.n(l),d=a(7292),i={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);a.d(t,i);let o=["",{children:["movie",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9520)),"/home/naveen/Desktop/moviepub/src/app/movie/admin/page.js"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,2838)),"/home/naveen/Desktop/moviepub/src/app/movie/admin/layout.js"],loading:[()=>Promise.resolve().then(a.bind(a,9839)),"/home/naveen/Desktop/moviepub/src/app/movie/admin/loading.js"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,2273)),"/home/naveen/Desktop/moviepub/src/app/movie/layout.js"],"not-found":[()=>Promise.resolve().then(a.bind(a,5859)),"/home/naveen/Desktop/moviepub/src/app/movie/not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,440))).default(e)],apple:[],openGraph:[async e=>(await Promise.resolve().then(a.bind(a,3634))).default(e)],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,5822)),"/home/naveen/Desktop/moviepub/src/app/layout.js"],loading:[()=>Promise.resolve().then(a.bind(a,8988)),"/home/naveen/Desktop/moviepub/src/app/loading.js"],"not-found":[()=>Promise.resolve().then(a.bind(a,6420)),"/home/naveen/Desktop/moviepub/src/app/not-found.js"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,440))).default(e)],apple:[],openGraph:[async e=>(await Promise.resolve().then(a.bind(a,3634))).default(e)],twitter:[],manifest:void 0}}],c=["/home/naveen/Desktop/moviepub/src/app/movie/admin/page.js"],m={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/movie/admin/page",pathname:"/movie/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7004:(e,t,a)=>{Promise.resolve().then(a.bind(a,9520))},5148:(e,t,a)=>{Promise.resolve().then(a.bind(a,7811))},7811:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>P});var s=a(5512),n=a(8009);let{endpoints:l}=a(3714),{default:r}=a(1644),{createContext:d,useRef:i,useEffect:o,useState:c,use:m}=a(8009),u=d(),x=({children:e})=>{let t=i(null),[a,n]=c(!1),[d,o]=c(!1),m=async(e,a)=>{let s=await r(`${l.login}`,"POST",null,{username:e,password:a});t.current=s.token,o(!0)};return(0,s.jsx)(u.Provider,{value:{token:t,loginHandler:m},children:a?(0,s.jsx)("h1",{className:"flex justify-center text-center",children:"Loading..."}):e})};a(9334);var p=a(8531),h=a.n(p);let g=(0,a(1680).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var b=a(3714),v=a(1644);let j=(0,n.memo)(function(){let{token:e}=(0,n.useContext)(u),[t,a]=(0,n.useState)(""),[l,r]=(0,n.useState)(""),[d,i]=(0,n.useState)(""),[o,c]=(0,n.useState)(""),[m,x]=(0,n.useState)(""),[p,h]=(0,n.useState)(""),[g,j]=(0,n.useState)(""),[f,y]=(0,n.useState)([]),[N,w]=(0,n.useState)([]),[k,C]=(0,n.useState)([]),[S,I]=(0,n.useState)(null),[P,D]=(0,n.useState)([]),[$,M]=(0,n.useState)([]),[T,L]=(0,n.useState)([]),[A,E]=(0,n.useState)([]),[_,G]=(0,n.useState)([{name:"",url:""}]),[O,R]=(0,n.useState)(""),[q,U]=(0,n.useState)(""),Y=(e,t)=>{G(_.map((a,s)=>s===e?{...a,[t.target.name]:t.target.value}:a))},F=e=>{G(_.filter((t,a)=>a!==e))},z=(e,t,a,s)=>{console.log(e.target.value,"  value",s,"  id",e.target.checked,"  event.target.checked"),t(e.target.checked?[...a,s]:a.filter(e=>e!=s)),console.log(a,"  selectedArray.filter((item) => item!== id)")},K=async s=>{s.preventDefault();let n=new FormData;n.append("title",t),n.append("keywords",l),n.append("downloadName",O),n.append("smalldescription",q),n.append("duration",o),n.append("releaseDate",m),n.append("bigDescription",p),n.append("casts",g),n.append("genreNames",f.join(",")),n.append("languageNames",N.join(",")),n.append("collectionNames",k.join(",")),n.append("year",d),n.append("episodes",JSON.stringify(_)),n.append("image",S),await (0,v.default)(`${b.endpoints.admin.movies}`,"POST",e.current,null,n),a(""),i(""),c(""),x(""),h(""),j(""),y([]),w([]),C([]),I(null),G([])};return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Create Movie"}),(0,s.jsxs)("form",{onSubmit:K,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Upload Image"}),(0,s.jsx)("input",{type:"file",onChange:e=>{I(e.target.files[0])},className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,s.jsx)("input",{type:"text",value:t,onChange:e=>a(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Download Name"}),(0,s.jsx)("input",{type:"text",value:O,onChange:e=>R(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Small Description"}),(0,s.jsx)("input",{type:"text",value:q,onChange:e=>U(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Keywords"}),(0,s.jsx)("input",{type:"text",value:l,onChange:e=>r(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Year"}),(0,s.jsxs)("select",{value:d,onChange:e=>i(e.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Year"}),A.map(e=>(0,s.jsx)("option",{value:e.yearId,children:e.name},e.yearId))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Duration"}),(0,s.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Release Date"}),(0,s.jsx)("input",{type:"text",value:m,onChange:e=>x(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Synopsis"}),(0,s.jsx)("textarea",{value:p,onChange:e=>h(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Cast"}),(0,s.jsx)("input",{type:"text",value:g,onChange:e=>j(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Genre"}),(0,s.jsx)("div",{className:"space-y-2",children:P.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",value:e.genreId,onChange:t=>z(t,y,f,e.genreId),checked:f.includes(e.genreId),className:"mr-2"}),(0,s.jsx)("span",{children:e.name})]},e.genreId))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Languages"}),(0,s.jsx)("div",{className:"space-y-2",children:$.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",value:e.languagesId,onChange:t=>z(t,w,N,e.languagesId),checked:N.includes(e.languagesId),className:"mr-2"}),(0,s.jsx)("span",{children:e.name})]},e.languagesId))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Collections"}),(0,s.jsx)("div",{className:"space-y-2",children:T.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",value:e.collectionsId,onChange:t=>z(t,C,k,e.collectionsId),checked:k.includes(e.collectionsId),className:"mr-2"}),(0,s.jsx)("span",{children:e.name})]},e.collectionsId))})]}),(0,s.jsxs)("div",{className:"p-4 max-w-2xl mx-auto bg-white rounded-lg shadow-lg",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-center",children:"Add Link"}),_.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,s.jsx)("input",{type:"text",name:"name",placeholder:"Link Name",value:e.name,onChange:e=>Y(t,e),className:"p-2 border border-gray-300 rounded-md flex-1"}),(0,s.jsx)("input",{type:"text",name:"url",placeholder:"Link URL",value:e.url,onChange:e=>Y(t,e),className:"p-2 border border-gray-300 rounded-md flex-1"}),(0,s.jsx)("button",{type:"button",onClick:()=>F(t),className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600",children:"Remove"})]},t)),(0,s.jsx)("button",{type:"button",onClick:()=>{G([..._,{name:"",url:""}])},className:"mt-4 bg-blue-500 text-white px-6 py-3 rounded-md hover:bg-blue-600",children:"Add Link"})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Submit"})})]})]})});function f(){let{token:e}=(0,n.useContext)(u),[t,a]=(0,n.useState)([]),[l,r]=(0,n.useState)([]),[d,i]=(0,n.useState)([]),[o,c]=(0,n.useState)([]),[m,x]=(0,n.useState)(""),[p,h]=(0,n.useState)(""),[g,j]=(0,n.useState)(""),[f,y]=(0,n.useState)(""),N=async()=>{m&&!t.includes(m)&&(await (0,v.default)(`${b.endpoints.admin.genres}`,"POST",e.current,{name:m}),a([...t,{name:m,genresId:-t.length}]),x(""))},w=async()=>{p&&!l.includes(p)&&(console.log(e.current),await (0,v.default)(`${b.endpoints.admin.collections}`,"POST",e.current,{name:p}),r([...l,{name:p,collectionsId:-l.length}]),h(""))},k=async()=>{g&&!d.includes(g)&&(await (0,v.default)(`${b.endpoints.admin.years}`,"POST",e.current,{name:g}),i([...d,{name:g,yearsId:-d.length}]),j(""))},C=async()=>{f&&!o.includes(f)&&(await (0,v.default)(`${b.endpoints.admin.languages}`,"POST",e.current,{name:f}),c([...o,{name:f,languagesId:-o.length}]),y(""))},S=async s=>{if(console.log(s),s<0){alert("This is a new genre, please go to another section and come back to delete it");return}await (0,v.default)(`${b.endpoints.admin.genres}/${s}`,"DELETE",e.current),a(t.filter(e=>e.genreId!==s))},I=async t=>{if(console.log(t),t<0){alert("This is a new collection, please go to another section and come back to delete it");return}await (0,v.default)(`${b.endpoints.admin.collections}/${t}`,"DELETE",e.current),r(l.filter(e=>e.collectionsId!==t))},P=async t=>{if(t<0){alert("This is a new year, please go to another section and come back to delete it");return}await (0,v.default)(`${b.endpoints.admin.years}/${t}`,"DELETE",e.current),i(d.filter(e=>e.yearId!==t))},D=async t=>{if(t<0){alert("This is a new language, please go to another section and come back to delete it");return}await (0,v.default)(`${b.endpoints.admin.languages}/${t}`,"DELETE",e.current),c(o.filter(e=>e.languagesId!==t))},$=async t=>{if(t<0){alert("This is a new collection, please go to another section and come back to update it");return}let a=prompt("Please enter new name for collection");a&&(await (0,v.default)(`${b.endpoints.admin.collections}/${t}/${a}`,"POST",e.current),r(l.map(e=>e.collectionsId===t?{...e,name:a}:e)))},M=async s=>{if(s<0){alert("This is a new Genre, please go to another section and come back to update it");return}let n=prompt("Please enter new name for Genre");n&&(await (0,v.default)(`${b.endpoints.admin.genres}/${s}/${n}`,"POST",e.current),a(t.map(e=>e.genreId===s?{...e,name:n}:e)))},T=async t=>{if(t<0){alert("This is a new Langauge, please go to another section and come back to update it");return}let a=prompt("Please enter new name for Langauge");a&&(await (0,v.default)(`${b.endpoints.admin.languages}/${t}/${a}`,"POST",e.current),c(o.map(e=>e.languagesId===t?{...e,name:a}:e)))},L=async t=>{if(t<0){alert("This is a new Year, please go to another section and come back to update it");return}let a=prompt("Please enter new name for Year");a&&(await (0,v.default)(`${b.endpoints.admin.years}/${t}/${a}`,"POST",e.current),i(d.map(e=>e.yearId===t?{...e,name:a}:e)))};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 p-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Manage Movie Data"}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Geners"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Add new Genre",value:m,onChange:e=>x(e.target.value),className:"p-2 border border-gray-300 rounded-md mr-2"}),(0,s.jsx)("button",{onClick:N,className:"bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600",children:"Add Gener"})]}),(0,s.jsx)("ul",{className:"space-y-2",children:t?.map(e=>s.jsxs("li",{className:"flex justify-between items-center",children:[s.jsx("span",{children:e.name}),s.jsxs("div",{children:[s.jsx("button",{onClick:()=>S(e.genreId),className:"text-red-500 hover:text-red-700",children:"Delete"}),s.jsx("button",{onClick:()=>M(e.genreId),className:"bg-green-500 pl-2 pr-2   hover:text-red-700 ml-2",children:"update"})]})]},e.genreId))})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Collections"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Add new collection",value:p,onChange:e=>h(e.target.value),className:"p-2 border border-gray-300 rounded-md mr-2"}),(0,s.jsx)("button",{onClick:w,className:"bg-green-500 text-white p-2 rounded-md hover:bg-green-600",children:"Add Collection"})]}),(0,s.jsx)("ul",{className:"space-y-2",children:l?.map((e,t)=>s.jsxs("li",{className:"flex justify-between items-center",children:[s.jsx("span",{children:e.name}),s.jsxs("div",{className:"flex",children:[s.jsx("button",{onClick:()=>I(e.collectionsId),className:"text-red-500 hover:text-red-700",children:"Delete"}),s.jsx("button",{onClick:()=>$(e.collectionsId),className:"bg-green-500 pl-2 pr-2   hover:text-red-700 ml-2",children:"update"})]})]},e.collectionsId))})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Years"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("input",{type:"number",placeholder:"Add new year",value:g,onChange:e=>j(e.target.value),className:"p-2 border border-gray-300 rounded-md mr-2"}),(0,s.jsx)("button",{onClick:k,className:"bg-yellow-500 text-white p-2 rounded-md hover:bg-yellow-600",children:"Add Year"})]}),(0,s.jsx)("ul",{className:"space-y-2",children:d.map(e=>(0,s.jsxs)("li",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:()=>P(e.yearId),className:"text-red-500 hover:text-red-700",children:"Delete"}),(0,s.jsx)("button",{onClick:()=>L(e.yearId),className:"bg-green-500 pl-2 pr-2   hover:text-red-700 ml-2",children:"update"})]})]},e.yearId))})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Languages"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Add new language",value:f,onChange:e=>y(e.target.value),className:"p-2 border border-gray-300 rounded-md mr-2"}),(0,s.jsx)("button",{onClick:C,className:"bg-purple-500 text-white p-2 rounded-md hover:bg-purple-600",children:"Add Language"})]}),(0,s.jsx)("ul",{className:"space-y-2",children:o.map(e=>(0,s.jsxs)("li",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:()=>D(e.languagesId),className:"text-red-500 hover:text-red-700",children:"Delete"}),(0,s.jsx)("button",{onClick:()=>T(e.languagesId),className:"bg-green-500 pl-2 pr-2   hover:text-red-700 ml-2",children:"update"})]})]},e.languagesId))})]})]})}var y=a(5103);function N({movieId:e}){console.log(e," ----------------");let{token:t}=(0,n.useContext)(u),[a,l]=(0,n.useState)(""),[r,d]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[c,m]=(0,n.useState)(""),[x,p]=(0,n.useState)(""),[h,g]=(0,n.useState)(""),[j,f]=(0,n.useState)(""),[N,w]=(0,n.useState)([]),[k,C]=(0,n.useState)([]),[S,I]=(0,n.useState)([]),[P,D]=(0,n.useState)(null),[$,M]=(0,n.useState)([]),[T,L]=(0,n.useState)([]),[A,E]=(0,n.useState)([]),[_,G]=(0,n.useState)([]),[O,R]=(0,n.useState)([{name:"",url:""}]),[q,U]=(0,n.useState)(""),[Y,F]=(0,n.useState)(""),[z,K]=(0,n.useState)(""),H=(e,t)=>{R(O.map((a,s)=>s===e?{...a,[t.target.name]:t.target.value}:a))},J=e=>{R(O.filter((t,a)=>a!==e))},B=(e,t,a,s)=>{console.log(e.target.value,"  value",s,"  id",e.target.checked,"  event.target.checked"),t(e.target.checked?[...a,s]:a.filter(e=>e!=s)),console.log(a,"  selectedArray.filter((item) => item!== id)")},X=async s=>{s.preventDefault(),console.log(k,"  languages");let n=new FormData;n.append("movieId",e),n.append("title",a),n.append("keywords",r),n.append("downloadName",q),n.append("smalldescription",Y),n.append("duration",c),n.append("releaseDate",x),n.append("bigDescription",h),n.append("casts",j),n.append("genreNames",N.join(",")),n.append("languageNames",k.join(",")),n.append("collectionNames",S.join(",")),n.append("year",i),n.append("episodes",JSON.stringify(O)),n.append("image",P),await (0,v.default)(`${b.endpoints.admin.updateMovie}`,"POST",t.current,null,n),alert("uploaded successfully")};return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Update Movie"}),(0,s.jsxs)("form",{onSubmit:X,className:"space-y-6",children:[(0,s.jsx)(y.default,{src:`${b.IMAGE_URL}/${z}`,height:200,width:200,alt:a}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Upload Image"}),(0,s.jsx)("input",{type:"file",onChange:e=>{D(e.target.files[0])},className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,s.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Download Name"}),(0,s.jsx)("input",{type:"text",value:q,onChange:e=>U(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Small Description"}),(0,s.jsx)("input",{type:"text",value:Y,onChange:e=>F(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Keywords"}),(0,s.jsx)("input",{type:"text",value:r,onChange:e=>d(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Year"}),(0,s.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Year"}),_.map(e=>(0,s.jsx)("option",{value:e.yearId,children:e.name},e.yearId))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Duration"}),(0,s.jsx)("input",{type:"text",value:c,onChange:e=>m(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Release Date"}),(0,s.jsx)("input",{type:"text",value:x,onChange:e=>p(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Synopsis"}),(0,s.jsx)("textarea",{value:h,onChange:e=>g(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Cast"}),(0,s.jsx)("input",{type:"text",value:j,onChange:e=>f(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Genre"}),(0,s.jsx)("div",{className:"space-y-2",children:$.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",value:e.genreId,onChange:t=>B(t,w,N,e.genreId),checked:N.includes(e.genreId),className:"mr-2"}),(0,s.jsx)("span",{children:e.name})]},e.genreId))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Languages"}),(0,s.jsx)("div",{className:"space-y-2",children:T.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",value:e.languagesId,onChange:t=>B(t,C,k,e.languagesId),checked:k.includes(e.languagesId),className:"mr-2"}),(0,s.jsx)("span",{children:e.name})]},e.languagesId))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Collections"}),(0,s.jsx)("div",{className:"space-y-2",children:A.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",value:e.collectionsId,onChange:t=>B(t,I,S,e.collectionsId),checked:S.includes(e.collectionsId),className:"mr-2"}),(0,s.jsx)("span",{children:e.name})]},e.collectionsId))})]}),(0,s.jsxs)("div",{className:"p-4 max-w-2xl mx-auto bg-white rounded-lg shadow-lg",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-center",children:"Add Link"}),O?.map((e,t)=>s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx("input",{type:"text",name:"name",placeholder:"Link Name",value:e.name,onChange:e=>H(t,e),className:"p-2 border border-gray-300 rounded-md flex-1"}),s.jsx("input",{type:"text",name:"url",placeholder:"Link URL",value:e.url,onChange:e=>H(t,e),className:"p-2 border border-gray-300 rounded-md flex-1"}),s.jsx("button",{type:"button",onClick:()=>J(t),className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600",children:"Remove"})]},t)),(0,s.jsx)("button",{type:"button",onClick:()=>{R([...O,{name:"",url:""}])},className:"mt-4 bg-blue-500 text-white px-6 py-3 rounded-md hover:bg-blue-600",children:"Add Link"})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Submit"})})]})]})}let w=()=>{let[e,t]=(0,n.useState)([]),[a,l]=(0,n.useState)(!1),[r,d]=(0,n.useState)(null),[i,o]=(0,n.useState)(1);(0,n.useEffect)(()=>{(0,v.default)(`${b.endpoints.public.moviesUpdateDto}/${i}`,"GET").then(e=>{t(e)}).catch(e=>{console.error("Error fetching movies:",e)})},[i]);let c=e=>{d(e),l(!0)},m=()=>{d(null),l(!1)};return(0,s.jsxs)("div",{className:"container mx-auto p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Manage Movies"}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("span",{className:"text-lg font-medium text-gray-700",children:["Page ",i]})}),(0,s.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-4 bg-white rounded-md shadow-md",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold",children:e.movieTitle}),(0,s.jsxs)("p",{children:["Downloads: ",e.downloadCounts]})]}),(0,s.jsx)("button",{onClick:()=>a?m():c(e.movieId),className:"text-white rounded-md hover:bg-blue-700",children:a?(0,s.jsx)("p",{className:"bg-red-600 px-4 py-2 ",children:"Cancel"}):(0,s.jsx)("p",{className:"bg-blue-600 px-4 py-2 ",children:" Update"})})]},e.movieId))}),(0,s.jsxs)("div",{className:"mt-6 flex justify-between",children:[(0,s.jsx)("button",{onClick:()=>{i>1&&o(e=>e-1)},className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",disabled:1===i,children:"Previous"}),(0,s.jsx)("button",{onClick:()=>{o(e=>e+1)},className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700",children:"Next"})]}),a&&(0,s.jsx)("div",{className:"inset-0 flex items-center justify-center bg-black bg-opacity-50 overflow-scroll",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-md shadow-md relative",children:[(0,s.jsx)("button",{onClick:()=>l(!1),className:"absolute top-20 right-2 text-gray-600 hover:text-gray-800",children:"\xd7"}),(0,s.jsx)(N,{movieId:r})]})})]})};function k(){let[e,t]=(0,n.useState)([]),[a,l]=(0,n.useState)(1),{token:r}=(0,n.useContext)(u);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold text-blue-800 mb-6",children:"Messages"}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("span",{className:"text-lg font-medium text-gray-700",children:["Page ",a]})}),(0,s.jsx)("div",{className:"space-y-6",children:e.length>0?e.map(e=>(0,s.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-blue-600",children:e.email}),(0,s.jsx)("p",{className:"text-gray-700 mt-2",children:e.message})]},e.movieRequstId)):(0,s.jsx)("p",{className:"text-gray-600",children:"No messages found."})}),(0,s.jsxs)("div",{className:"mt-6 flex justify-between",children:[(0,s.jsx)("button",{onClick:()=>{a>1&&l(e=>e-1)},className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",disabled:1===a,children:"Previous"}),(0,s.jsx)("button",{onClick:()=>{l(e=>e+1)},className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700",children:"Next"})]})]})})}function C(){let[e,t]=(0,n.useState)("createMovie");return(0,s.jsxs)("div",{className:"min-h-screen flex bg-gray-100",children:[(0,s.jsxs)("div",{className:"w-64 bg-blue-800 text-white p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Admin Dashboard"}),(0,s.jsxs)("ul",{className:"space-y-4",children:[(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:()=>t("createMovie"),className:`w-full text-left p-2 rounded-md ${"createMovie"===e?"bg-blue-700":"hover:bg-blue-600"}`,children:"Create Movie"})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:()=>t("createCategory"),className:`w-full text-left p-2 rounded-md ${"createCategory"===e?"bg-blue-700":"hover:bg-blue-600"}`,children:"Manage Others"})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:()=>t("manageMovies"),className:`w-full text-left p-2 rounded-md ${"manageMovies"===e?"bg-blue-700":"hover:bg-blue-600"}`,children:"Manage Movies"})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:()=>t("message"),className:`w-full text-left p-2 rounded-md ${"message"===e?"bg-blue-700":"hover:bg-blue-600"}`,children:"Movie Request"})})]})]}),(0,s.jsxs)("div",{className:"flex-1 p-6",children:[(0,s.jsxs)(h(),{href:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-6",children:[(0,s.jsx)(g,{className:"mr-2",size:20}),"Back to Home"]}),"createMovie"===e&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Create Movie"}),(0,s.jsx)(j,{})]}),"createCategory"===e&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Create Category"}),(0,s.jsx)(f,{})]}),"manageMovies"===e&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Manage Movies"}),(0,s.jsx)(w,{})]}),"message"===e&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"All Messages"}),(0,s.jsx)(k,{})]})]})]})}function S(){let[e,t]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),{loginHandler:r}=(0,n.useContext)(u);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,s.jsxs)("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded shadow-md",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-center",children:"Login"}),(0,s.jsxs)("form",{onSubmit:s=>{s.preventDefault(),r(e,a).then(e=>{}).catch(e=>{alert("Invalid Username or Password"),l(""),t("")})},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username:"}),(0,s.jsx)("input",{type:"text",id:"username",name:"username",value:e,onChange:e=>t(e.target.value),className:"w-full px-3 py-2 mt-1 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password:"}),(0,s.jsx)("input",{type:"password",id:"password",name:"password",value:a,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 mt-1 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,s.jsx)("button",{type:"submit",className:"w-full px-4 py-2 font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Login"})]})]})})})}function I(){let{token:e}=(0,n.useContext)(u);return(console.log(e,"  token"),null!==e.current)?(0,s.jsx)("div",{children:(0,s.jsx)(C,{})}):(0,s.jsx)("div",{className:"min-h-screen flex bg-gray-100 justify-center items-center",children:(0,s.jsx)(S,{})})}function P(){return(0,s.jsx)("div",{className:"",children:(0,s.jsx)(x,{children:(0,s.jsx)(I,{})})})}},2838:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r,metadata:()=>l});var s=a(2740),n=a(6908);let l={title:n.Rl,description:n.Lc};function r({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:"",children:e})})}},9839:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(2740),n=a(3174);function l(){return(0,s.jsx)(n.default,{})}},9520:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/naveen/Desktop/moviepub/src/app/movie/admin/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/naveen/Desktop/moviepub/src/app/movie/admin/page.js","default")},2273:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r,metadata:()=>l});var s=a(2740),n=a(6908);let l={title:n.Rl,description:n.Lc};function r({children:e}){return(0,s.jsx)("div",{children:e})}},5859:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(2740),n=a(8225);function l(){return(0,s.jsx)("div",{children:(0,s.jsx)(n.default,{})})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[638,957,830],()=>a(8778));module.exports=s})();