(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6077],{6839:(e,t,a)=>{Promise.resolve().then(a.bind(a,8874))},7401:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(2115);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:n=24,strokeWidth:c=2,absoluteStrokeWidth:o,className:d="",children:i,iconNode:m,...u}=e;return(0,s.createElement)("svg",{ref:t,...r,width:n,height:n,stroke:a,strokeWidth:o?24*Number(c)/Number(n):c,className:l("lucide",d),...u},[...m.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(i)?i:[i]])}),o=(e,t)=>{let a=(0,s.forwardRef)((a,r)=>{let{className:o,...d}=a;return(0,s.createElement)(c,{ref:r,iconNode:t,className:l("lucide-".concat(n(e)),o),...d})});return a.displayName="".concat(e),a}},6046:(e,t,a)=>{"use strict";var s=a(6658);a.o(s,"notFound")&&a.d(t,{notFound:function(){return s.notFound}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},8874:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>I});var s=a(5155),n=a(2115);let{endpoints:l}=a(8376),{default:r}=a(946),{createContext:c,useRef:o,useEffect:d,useState:i,use:m}=a(2115),u=c(),x=e=>{let{children:t}=e,a=o(null),[n,c]=i(!1),[d,m]=i(!1),x=async(e,t)=>{let s=await r("".concat(l.login),"POST",null,{username:e,password:t});a.current=s.token,m(!0)};return(0,s.jsx)(u.Provider,{value:{token:a,loginHandler:x},children:n?(0,s.jsx)("h1",{className:"flex justify-center text-center",children:"Loading..."}):t})};a(6046);var g=a(8173),h=a.n(g);let p=(0,a(7401).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var b=a(8376),v=a(946);let j=(0,n.memo)(function(){let{token:e}=(0,n.useContext)(u),[t,a]=(0,n.useState)(""),[l,r]=(0,n.useState)(""),[c,o]=(0,n.useState)(""),[d,i]=(0,n.useState)(""),[m,x]=(0,n.useState)(""),[g,h]=(0,n.useState)(""),[p,j]=(0,n.useState)(""),[y,f]=(0,n.useState)([]),[N,w]=(0,n.useState)([]),[k,C]=(0,n.useState)([]),[S,T]=(0,n.useState)(null),[I,M]=(0,n.useState)([]),[A,E]=(0,n.useState)([]),[D,L]=(0,n.useState)([]),[P,O]=(0,n.useState)([]),[R,U]=(0,n.useState)([{name:"",url:""}]),[G,B]=(0,n.useState)(""),[F,_]=(0,n.useState)("");(0,n.useEffect)(()=>{let e=new AbortController,t=e.signal,a=async(e,a)=>{try{let s=await fetch(e,{signal:t}),n=await s.json();a(n)}catch(e){"AbortError"!==e.name&&console.error("Fetch error:",e)}};return a("".concat(b.endpoints.public.genres,"/1"),M),a("".concat(b.endpoints.public.collections,"/1"),L),a("".concat(b.endpoints.public.years,"/1"),O),a("".concat(b.endpoints.public.languages,"/1"),E),()=>e.abort()},[]);let Y=(e,t)=>{U(R.map((a,s)=>s===e?{...a,[t.target.name]:t.target.value}:a))},q=e=>{U(R.filter((t,a)=>a!==e))},z=(e,t,a,s)=>{console.log(e.target.value,"  value",s,"  id",e.target.checked,"  event.target.checked"),t(e.target.checked?[...a,s]:a.filter(e=>e!=s)),console.log(a,"  selectedArray.filter((item) => item!== id)")},H=async s=>{s.preventDefault();let n=new FormData;n.append("title",t),n.append("keywords",l),n.append("downloadName",G),n.append("smalldescription",F),n.append("duration",d),n.append("releaseDate",m),n.append("bigDescription",g),n.append("casts",p),n.append("genreNames",y.join(",")),n.append("languageNames",N.join(",")),n.append("collectionNames",k.join(",")),n.append("year",c),n.append("episodes",JSON.stringify(R)),n.append("image",S),await (0,v.default)("".concat(b.endpoints.admin.movies),"POST",e.current,null,n),a(""),o(""),i(""),x(""),h(""),j(""),f([]),w([]),C([]),T(null),U([])};return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Create Movie"}),(0,s.jsxs)("form",{onSubmit:H,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Upload Image"}),(0,s.jsx)("input",{type:"file",onChange:e=>{T(e.target.files[0])},className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,s.jsx)("input",{type:"text",value:t,onChange:e=>a(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Download Name"}),(0,s.jsx)("input",{type:"text",value:G,onChange:e=>B(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Small Description"}),(0,s.jsx)("input",{type:"text",value:F,onChange:e=>_(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Keywords"}),(0,s.jsx)("input",{type:"text",value:l,onChange:e=>r(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Year"}),(0,s.jsxs)("select",{value:c,onChange:e=>o(e.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Year"}),P.map(e=>(0,s.jsx)("option",{value:e.yearId,children:e.name},e.yearId))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Duration"}),(0,s.jsx)("input",{type:"text",value:d,onChange:e=>i(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Release Date"}),(0,s.jsx)("input",{type:"text",value:m,onChange:e=>x(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Synopsis"}),(0,s.jsx)("textarea",{value:g,onChange:e=>h(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Cast"}),(0,s.jsx)("input",{type:"text",value:p,onChange:e=>j(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Genre"}),(0,s.jsx)("div",{className:"space-y-2",children:I.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",value:e.genreId,onChange:t=>z(t,f,y,e.genreId),checked:y.includes(e.genreId),className:"mr-2"}),(0,s.jsx)("span",{children:e.name})]},e.genreId))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Languages"}),(0,s.jsx)("div",{className:"space-y-2",children:A.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",value:e.languagesId,onChange:t=>z(t,w,N,e.languagesId),checked:N.includes(e.languagesId),className:"mr-2"}),(0,s.jsx)("span",{children:e.name})]},e.languagesId))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Collections"}),(0,s.jsx)("div",{className:"space-y-2",children:D.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",value:e.collectionsId,onChange:t=>z(t,C,k,e.collectionsId),checked:k.includes(e.collectionsId),className:"mr-2"}),(0,s.jsx)("span",{children:e.name})]},e.collectionsId))})]}),(0,s.jsxs)("div",{className:"p-4 max-w-2xl mx-auto bg-white rounded-lg shadow-lg",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-center",children:"Add Link"}),R.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,s.jsx)("input",{type:"text",name:"name",placeholder:"Link Name",value:e.name,onChange:e=>Y(t,e),className:"p-2 border border-gray-300 rounded-md flex-1"}),(0,s.jsx)("input",{type:"text",name:"url",placeholder:"Link URL",value:e.url,onChange:e=>Y(t,e),className:"p-2 border border-gray-300 rounded-md flex-1"}),(0,s.jsx)("button",{type:"button",onClick:()=>q(t),className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600",children:"Remove"})]},t)),(0,s.jsx)("button",{type:"button",onClick:()=>{U([...R,{name:"",url:""}])},className:"mt-4 bg-blue-500 text-white px-6 py-3 rounded-md hover:bg-blue-600",children:"Add Link"})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Submit"})})]})]})});function y(){let{token:e}=(0,n.useContext)(u),[t,a]=(0,n.useState)([]),[l,r]=(0,n.useState)([]),[c,o]=(0,n.useState)([]),[d,i]=(0,n.useState)([]);(0,n.useEffect)(()=>{let e=new AbortController,t=e.signal,s=async(e,a)=>{try{let s=await fetch(e,{signal:t}),n=await s.json();a(n)}catch(e){"AbortError"!==e.name&&console.error("Fetch error:",e)}};return s("".concat(b.endpoints.public.genres,"/1"),a),s("".concat(b.endpoints.public.collections,"/1"),r),s("".concat(b.endpoints.public.years,"/1"),o),s("".concat(b.endpoints.public.languages,"/1"),i),()=>e.abort()},[]);let[m,x]=(0,n.useState)(""),[g,h]=(0,n.useState)(""),[p,j]=(0,n.useState)(""),[y,f]=(0,n.useState)(""),N=async()=>{m&&!t.includes(m)&&(await (0,v.default)("".concat(b.endpoints.admin.genres),"POST",e.current,{name:m}),a([...t,{name:m,genresId:-t.length}]),x(""))},w=async()=>{g&&!l.includes(g)&&(console.log(e.current),await (0,v.default)("".concat(b.endpoints.admin.collections),"POST",e.current,{name:g}),r([...l,{name:g,collectionsId:-l.length}]),h(""))},k=async()=>{p&&!c.includes(p)&&(await (0,v.default)("".concat(b.endpoints.admin.years),"POST",e.current,{name:p}),o([...c,{name:p,yearsId:-c.length}]),j(""))},C=async()=>{y&&!d.includes(y)&&(await (0,v.default)("".concat(b.endpoints.admin.languages),"POST",e.current,{name:y}),i([...d,{name:y,languagesId:-d.length}]),f(""))},S=async s=>{if(console.log(s),s<0){alert("This is a new genre, please go to another section and come back to delete it");return}await (0,v.default)("".concat(b.endpoints.admin.genres,"/").concat(s),"DELETE",e.current),a(t.filter(e=>e.genreId!==s))},T=async t=>{if(console.log(t),t<0){alert("This is a new collection, please go to another section and come back to delete it");return}await (0,v.default)("".concat(b.endpoints.admin.collections,"/").concat(t),"DELETE",e.current),r(l.filter(e=>e.collectionsId!==t))},I=async t=>{if(t<0){alert("This is a new year, please go to another section and come back to delete it");return}await (0,v.default)("".concat(b.endpoints.admin.years,"/").concat(t),"DELETE",e.current),o(c.filter(e=>e.yearId!==t))},M=async t=>{if(t<0){alert("This is a new language, please go to another section and come back to delete it");return}await (0,v.default)("".concat(b.endpoints.admin.languages,"/").concat(t),"DELETE",e.current),i(d.filter(e=>e.languagesId!==t))},A=async t=>{if(t<0){alert("This is a new collection, please go to another section and come back to update it");return}let a=prompt("Please enter new name for collection");a&&(await (0,v.default)("".concat(b.endpoints.admin.collections,"/").concat(t,"/").concat(a),"POST",e.current),r(l.map(e=>e.collectionsId===t?{...e,name:a}:e)))},E=async s=>{if(s<0){alert("This is a new Genre, please go to another section and come back to update it");return}let n=prompt("Please enter new name for Genre");n&&(await (0,v.default)("".concat(b.endpoints.admin.genres,"/").concat(s,"/").concat(n),"POST",e.current),a(t.map(e=>e.genreId===s?{...e,name:n}:e)))},D=async t=>{if(t<0){alert("This is a new Langauge, please go to another section and come back to update it");return}let a=prompt("Please enter new name for Langauge");a&&(await (0,v.default)("".concat(b.endpoints.admin.languages,"/").concat(t,"/").concat(a),"POST",e.current),i(d.map(e=>e.languagesId===t?{...e,name:a}:e)))},L=async t=>{if(t<0){alert("This is a new Year, please go to another section and come back to update it");return}let a=prompt("Please enter new name for Year");a&&(await (0,v.default)("".concat(b.endpoints.admin.years,"/").concat(t,"/").concat(a),"POST",e.current),o(c.map(e=>e.yearId===t?{...e,name:a}:e)))};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 p-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Manage Movie Data"}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Geners"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Add new Genre",value:m,onChange:e=>x(e.target.value),className:"p-2 border border-gray-300 rounded-md mr-2"}),(0,s.jsx)("button",{onClick:N,className:"bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600",children:"Add Gener"})]}),(0,s.jsx)("ul",{className:"space-y-2",children:null==t?void 0:t.map(e=>(0,s.jsxs)("li",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:()=>S(e.genreId),className:"text-red-500 hover:text-red-700",children:"Delete"}),(0,s.jsx)("button",{onClick:()=>E(e.genreId),className:"bg-green-500 pl-2 pr-2   hover:text-red-700 ml-2",children:"update"})]})]},e.genreId))})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Collections"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Add new collection",value:g,onChange:e=>h(e.target.value),className:"p-2 border border-gray-300 rounded-md mr-2"}),(0,s.jsx)("button",{onClick:w,className:"bg-green-500 text-white p-2 rounded-md hover:bg-green-600",children:"Add Collection"})]}),(0,s.jsx)("ul",{className:"space-y-2",children:null==l?void 0:l.map((e,t)=>(0,s.jsxs)("li",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("button",{onClick:()=>T(e.collectionsId),className:"text-red-500 hover:text-red-700",children:"Delete"}),(0,s.jsx)("button",{onClick:()=>A(e.collectionsId),className:"bg-green-500 pl-2 pr-2   hover:text-red-700 ml-2",children:"update"})]})]},e.collectionsId))})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Years"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("input",{type:"number",placeholder:"Add new year",value:p,onChange:e=>j(e.target.value),className:"p-2 border border-gray-300 rounded-md mr-2"}),(0,s.jsx)("button",{onClick:k,className:"bg-yellow-500 text-white p-2 rounded-md hover:bg-yellow-600",children:"Add Year"})]}),(0,s.jsx)("ul",{className:"space-y-2",children:c.map(e=>(0,s.jsxs)("li",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:()=>I(e.yearId),className:"text-red-500 hover:text-red-700",children:"Delete"}),(0,s.jsx)("button",{onClick:()=>L(e.yearId),className:"bg-green-500 pl-2 pr-2   hover:text-red-700 ml-2",children:"update"})]})]},e.yearId))})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Languages"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Add new language",value:y,onChange:e=>f(e.target.value),className:"p-2 border border-gray-300 rounded-md mr-2"}),(0,s.jsx)("button",{onClick:C,className:"bg-purple-500 text-white p-2 rounded-md hover:bg-purple-600",children:"Add Language"})]}),(0,s.jsx)("ul",{className:"space-y-2",children:d.map(e=>(0,s.jsxs)("li",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:()=>M(e.languagesId),className:"text-red-500 hover:text-red-700",children:"Delete"}),(0,s.jsx)("button",{onClick:()=>D(e.languagesId),className:"bg-green-500 pl-2 pr-2   hover:text-red-700 ml-2",children:"update"})]})]},e.languagesId))})]})]})}var f=a(5565);function N(e){let{movieId:t}=e;console.log(t," ----------------");let{token:a}=(0,n.useContext)(u),[l,r]=(0,n.useState)(""),[c,o]=(0,n.useState)(""),[d,i]=(0,n.useState)(""),[m,x]=(0,n.useState)(""),[g,h]=(0,n.useState)(""),[p,j]=(0,n.useState)(""),[y,N]=(0,n.useState)(""),[w,k]=(0,n.useState)([]),[C,S]=(0,n.useState)([]),[T,I]=(0,n.useState)([]),[M,A]=(0,n.useState)(null),[E,D]=(0,n.useState)([]),[L,P]=(0,n.useState)([]),[O,R]=(0,n.useState)([]),[U,G]=(0,n.useState)([]),[B,F]=(0,n.useState)([{name:"",url:""}]),[_,Y]=(0,n.useState)(""),[q,z]=(0,n.useState)(""),[H,J]=(0,n.useState)("");(0,n.useEffect)(()=>{let e=new AbortController,a=e.signal,s=async(e,t)=>{try{let s=await fetch(e,{signal:a}),n=await s.json();t(n)}catch(e){"AbortError"!==e.name&&console.error("Fetch error:",e)}};return s("".concat(b.endpoints.public.genres,"/1"),D),s("".concat(b.endpoints.public.collections,"/1"),R),s("".concat(b.endpoints.public.years,"/1"),G),s("".concat(b.endpoints.public.languages,"/1"),P),(0,v.default)("".concat(b.endpoints.public.singleMovie,"/").concat(t),"GET").then(e=>{r(e.movieTitle),o(e.keywords),J(e.imageUrl),i(e.year[0].yearId),x(e.duration),h(e.releaseDate),j(e.bigDescription),N(e.casts),z(e.smallDescription),Y(e.downloadName),F(e.links),k(e.genres.map(e=>e.genreId)),S(e.languages.map(e=>e.languagesId)),I(e.collections.map(e=>e.collectionsId))}).catch(e=>{console.error("Error fetching movies:",e)}),()=>e.abort()},[]);let K=(e,t)=>{F(B.map((a,s)=>s===e?{...a,[t.target.name]:t.target.value}:a))},W=e=>{F(B.filter((t,a)=>a!==e))},$=(e,t,a,s)=>{console.log(e.target.value,"  value",s,"  id",e.target.checked,"  event.target.checked"),t(e.target.checked?[...a,s]:a.filter(e=>e!=s)),console.log(a,"  selectedArray.filter((item) => item!== id)")},X=async e=>{e.preventDefault(),console.log(C,"  languages");let s=new FormData;s.append("movieId",t),s.append("title",l),s.append("keywords",c),s.append("downloadName",_),s.append("smalldescription",q),s.append("duration",m),s.append("releaseDate",g),s.append("bigDescription",p),s.append("casts",y),s.append("genreNames",w.join(",")),s.append("languageNames",C.join(",")),s.append("collectionNames",T.join(",")),s.append("year",d),s.append("episodes",JSON.stringify(B)),s.append("image",M),await (0,v.default)("".concat(b.endpoints.admin.updateMovie),"POST",a.current,null,s),alert("uploaded successfully")};return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Update Movie"}),(0,s.jsxs)("form",{onSubmit:X,className:"space-y-6",children:[(0,s.jsx)(f.default,{src:"".concat(b.IMAGE_URL,"/").concat(H),height:200,width:200,alt:l}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Upload Image"}),(0,s.jsx)("input",{type:"file",onChange:e=>{A(e.target.files[0])},className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,s.jsx)("input",{type:"text",value:l,onChange:e=>r(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Download Name"}),(0,s.jsx)("input",{type:"text",value:_,onChange:e=>Y(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Small Description"}),(0,s.jsx)("input",{type:"text",value:q,onChange:e=>z(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Keywords"}),(0,s.jsx)("input",{type:"text",value:c,onChange:e=>o(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Year"}),(0,s.jsxs)("select",{value:d,onChange:e=>i(e.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Year"}),U.map(e=>(0,s.jsx)("option",{value:e.yearId,children:e.name},e.yearId))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Duration"}),(0,s.jsx)("input",{type:"text",value:m,onChange:e=>x(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Release Date"}),(0,s.jsx)("input",{type:"text",value:g,onChange:e=>h(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Synopsis"}),(0,s.jsx)("textarea",{value:p,onChange:e=>j(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Cast"}),(0,s.jsx)("input",{type:"text",value:y,onChange:e=>N(e.target.value),className:"mt-1 p-2 border border-gray-300 rounded-md w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Genre"}),(0,s.jsx)("div",{className:"space-y-2",children:E.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",value:e.genreId,onChange:t=>$(t,k,w,e.genreId),checked:w.includes(e.genreId),className:"mr-2"}),(0,s.jsx)("span",{children:e.name})]},e.genreId))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Languages"}),(0,s.jsx)("div",{className:"space-y-2",children:L.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",value:e.languagesId,onChange:t=>$(t,S,C,e.languagesId),checked:C.includes(e.languagesId),className:"mr-2"}),(0,s.jsx)("span",{children:e.name})]},e.languagesId))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Collections"}),(0,s.jsx)("div",{className:"space-y-2",children:O.map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",value:e.collectionsId,onChange:t=>$(t,I,T,e.collectionsId),checked:T.includes(e.collectionsId),className:"mr-2"}),(0,s.jsx)("span",{children:e.name})]},e.collectionsId))})]}),(0,s.jsxs)("div",{className:"p-4 max-w-2xl mx-auto bg-white rounded-lg shadow-lg",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-center",children:"Add Link"}),null==B?void 0:B.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,s.jsx)("input",{type:"text",name:"name",placeholder:"Link Name",value:e.name,onChange:e=>K(t,e),className:"p-2 border border-gray-300 rounded-md flex-1"}),(0,s.jsx)("input",{type:"text",name:"url",placeholder:"Link URL",value:e.url,onChange:e=>K(t,e),className:"p-2 border border-gray-300 rounded-md flex-1"}),(0,s.jsx)("button",{type:"button",onClick:()=>W(t),className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600",children:"Remove"})]},t)),(0,s.jsx)("button",{type:"button",onClick:()=>{F([...B,{name:"",url:""}])},className:"mt-4 bg-blue-500 text-white px-6 py-3 rounded-md hover:bg-blue-600",children:"Add Link"})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Submit"})})]})]})}let w=()=>{let[e,t]=(0,n.useState)([]),[a,l]=(0,n.useState)(!1),[r,c]=(0,n.useState)(null),[o,d]=(0,n.useState)(1);(0,n.useEffect)(()=>{(0,v.default)("".concat(b.endpoints.public.moviesUpdateDto,"/").concat(o),"GET").then(e=>{t(e)}).catch(e=>{console.error("Error fetching movies:",e)})},[o]);let i=e=>{c(e),l(!0)},m=()=>{c(null),l(!1)};return(0,s.jsxs)("div",{className:"container mx-auto p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Manage Movies"}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("span",{className:"text-lg font-medium text-gray-700",children:["Page ",o]})}),(0,s.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-4 bg-white rounded-md shadow-md",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold",children:e.movieTitle}),(0,s.jsxs)("p",{children:["Downloads: ",e.downloadCounts]})]}),(0,s.jsx)("button",{onClick:()=>a?m():i(e.movieId),className:"text-white rounded-md hover:bg-blue-700",children:a?(0,s.jsx)("p",{className:"bg-red-600 px-4 py-2 ",children:"Cancel"}):(0,s.jsx)("p",{className:"bg-blue-600 px-4 py-2 ",children:" Update"})})]},e.movieId))}),(0,s.jsxs)("div",{className:"mt-6 flex justify-between",children:[(0,s.jsx)("button",{onClick:()=>{o>1&&d(e=>e-1)},className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",disabled:1===o,children:"Previous"}),(0,s.jsx)("button",{onClick:()=>{d(e=>e+1)},className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700",children:"Next"})]}),a&&(0,s.jsx)("div",{className:"inset-0 flex items-center justify-center bg-black bg-opacity-50 overflow-scroll",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-md shadow-md relative",children:[(0,s.jsx)("button",{onClick:()=>l(!1),className:"absolute top-20 right-2 text-gray-600 hover:text-gray-800",children:"\xd7"}),(0,s.jsx)(N,{movieId:r})]})})]})};function k(){let[e,t]=(0,n.useState)([]),[a,l]=(0,n.useState)(1),{token:r}=(0,n.useContext)(u);return(0,n.useEffect)(()=>{(0,v.default)("".concat(b.endpoints.admin.getAllTheMessages,"/").concat(a),"GET",r.current).then(e=>{t(e)}).catch(e=>{console.error("Error fetching messages:",e)})},[a]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold text-blue-800 mb-6",children:"Messages"}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("span",{className:"text-lg font-medium text-gray-700",children:["Page ",a]})}),(0,s.jsx)("div",{className:"space-y-6",children:e.length>0?e.map(e=>(0,s.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-lg border border-gray-200",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-blue-600",children:e.email}),(0,s.jsx)("p",{className:"text-gray-700 mt-2",children:e.message})]},e.movieRequstId)):(0,s.jsx)("p",{className:"text-gray-600",children:"No messages found."})}),(0,s.jsxs)("div",{className:"mt-6 flex justify-between",children:[(0,s.jsx)("button",{onClick:()=>{a>1&&l(e=>e-1)},className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",disabled:1===a,children:"Previous"}),(0,s.jsx)("button",{onClick:()=>{l(e=>e+1)},className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700",children:"Next"})]})]})})}function C(){let[e,t]=(0,n.useState)("createMovie");return(0,s.jsxs)("div",{className:"min-h-screen flex bg-gray-100",children:[(0,s.jsxs)("div",{className:"w-64 bg-blue-800 text-white p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Admin Dashboard"}),(0,s.jsxs)("ul",{className:"space-y-4",children:[(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:()=>t("createMovie"),className:"w-full text-left p-2 rounded-md ".concat("createMovie"===e?"bg-blue-700":"hover:bg-blue-600"),children:"Create Movie"})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:()=>t("createCategory"),className:"w-full text-left p-2 rounded-md ".concat("createCategory"===e?"bg-blue-700":"hover:bg-blue-600"),children:"Manage Others"})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:()=>t("manageMovies"),className:"w-full text-left p-2 rounded-md ".concat("manageMovies"===e?"bg-blue-700":"hover:bg-blue-600"),children:"Manage Movies"})}),(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:()=>t("message"),className:"w-full text-left p-2 rounded-md ".concat("message"===e?"bg-blue-700":"hover:bg-blue-600"),children:"Movie Request"})})]})]}),(0,s.jsxs)("div",{className:"flex-1 p-6",children:[(0,s.jsxs)(h(),{href:"/",className:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-6",children:[(0,s.jsx)(p,{className:"mr-2",size:20}),"Back to Home"]}),"createMovie"===e&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Create Movie"}),(0,s.jsx)(j,{})]}),"createCategory"===e&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Create Category"}),(0,s.jsx)(y,{})]}),"manageMovies"===e&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Manage Movies"}),(0,s.jsx)(w,{})]}),"message"===e&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"All Messages"}),(0,s.jsx)(k,{})]})]})]})}function S(){let[e,t]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),{loginHandler:r}=(0,n.useContext)(u);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,s.jsxs)("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded shadow-md",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-center",children:"Login"}),(0,s.jsxs)("form",{onSubmit:s=>{s.preventDefault(),r(e,a).then(e=>{}).catch(e=>{alert("Invalid Username or Password"),l(""),t("")})},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username:"}),(0,s.jsx)("input",{type:"text",id:"username",name:"username",value:e,onChange:e=>t(e.target.value),className:"w-full px-3 py-2 mt-1 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password:"}),(0,s.jsx)("input",{type:"password",id:"password",name:"password",value:a,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 mt-1 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,s.jsx)("button",{type:"submit",className:"w-full px-4 py-2 font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Login"})]})]})})})}function T(){let{token:e}=(0,n.useContext)(u);return(console.log(e,"  token"),null!==e.current)?(0,s.jsx)("div",{children:(0,s.jsx)(C,{})}):(0,s.jsx)("div",{className:"min-h-screen flex bg-gray-100 justify-center items-center",children:(0,s.jsx)(S,{})})}function I(){return(0,s.jsx)("div",{className:"",children:(0,s.jsx)(x,{children:(0,s.jsx)(T,{})})})}},8376:(e,t,a)=>{"use strict";a.r(t),a.d(t,{API_URL:()=>n,HOST_ADDRESS:()=>s,IMAGE_URL:()=>r,NEXT_CONFIG:()=>c,PUBLIC_API_URL:()=>l,endpoints:()=>o});let s="https://app.moviepub.xyz",n="".concat(s,"/api"),l="".concat(s,"/api/public"),r="".concat(s,"/static"),c="localhost",o={login:"".concat(n,"/auth/signin"),register:"".concat(n,"/auth/register"),movies:"".concat(n,"/movies"),genres:"".concat(n,"/genres"),users:"".concat(n,"/users"),admin:{movies:"".concat(n,"/admin/movies"),users:"".concat(n,"/admin/users"),genres:"".concat(n,"/admin/genres"),collections:"".concat(n,"/admin/collections"),years:"".concat(n,"/admin/years"),languages:"".concat(n,"/admin/languages"),updateMovie:"".concat(n,"/admin/updateMovie"),getAllTheMessages:"".concat(n,"/admin/getAllTheMessages")},public:{movies:"".concat(l,"/movies"),genres:"".concat(l,"/genres"),collections:"".concat(l,"/collections"),years:"".concat(l,"/years"),languages:"".concat(l,"/languages"),moviesUpdateDto:"".concat(l,"/moviesUpdateDto"),singleMovie:"".concat(l,"/singleMovie"),bannerMovies:"".concat(l,"/bannerMovies"),getThelatestMoives:"".concat(l,"/latestMovies"),getTheTotalPages:"".concat(l,"/getTheTotalPages"),getTheMoviesByCollection:"".concat(l,"/getTheMoviesByCollection"),getTheTotalCountOfCollectionMovies:"".concat(l,"/getTheTotalCountOfCollectionMovies"),getTheMoviesByYears:"".concat(l,"/getTheMoviesByYears"),getTheTotalCountOfYearsMovies:"".concat(l,"/getTheTotalCountOfYearsMovies"),getTheMoviesByLanguages:"".concat(l,"/getTheMoviesByLanguages"),getTheTotalCountOfLangaugesMovies:"".concat(l,"/getTheTotalCountOfLangaugesMovies"),getTheMoviesByGenres:"".concat(l,"/getTheMoviesByGenres"),getTheTotalCountOfGenreMovies:"".concat(l,"/getTheTotalCountOfGenreMovies"),searchMovies:"".concat(l,"/searchMovies"),getTheTotalPagesOfSearches:"".concat(l,"/getTheTotalPagesOfSearches"),singleMovieByUrl:"".concat(l,"/singleMovieByUrl"),createAMovieRequest:"".concat(l,"/createAMovieRequest"),getAllTheMoviesSlug:"".concat(l,"/getAllTheMoviesSlug")}}},946:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=new Headers;a&&l.append("Authorization","Bearer ".concat(a)),s&&l.append("Content-Type","application/json");let r={method:t,headers:l,body:s?JSON.stringify(s):n,redirect:"follow"};try{let t=await fetch(e,r);if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let a=await t.json();return console.log(a),a}catch(e){throw console.error("API call error:",e),e}}}},e=>{var t=t=>e(e.s=t);e.O(0,[8173,5565,8441,1517,7358],()=>t(6839)),_N_E=e.O()}]);